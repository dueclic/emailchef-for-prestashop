var PS_Emailchef=(i=>{var n="ps_emailchef",r={};return{loginPage:function(){var t=document.getElementById("showPassword"),e=document.getElementById("hidePassword"),s=document.getElementById("consumer_secret");t&&t.addEventListener("click",function(){s.setAttribute("type","text"),t.style.display="none",e.style.display="flex"});e&&e.addEventListener("click",function(){s.setAttribute("type","password"),t.style.display="flex",e.style.display="none"})},settings:function(t){r=t,i(document).on("click","#"+n+"_create_list",function(t){t.preventDefault(),i(".ecps-new-list-container").toggle()}),i(document).on("click",".ecps-new-list-container #"+n+"_undo_save",function(t){t.preventDefault(),i(".ecps-new-list-container").hide()}),i(document).on("click",".ecps-new-list-container #"+n+"_new_save",function(t){var s,e,a;t.preventDefault(),i(this).attr("disabled","disabled"),s=i("#"+n+"_new_name").val(),t=i("#"+n+"_new_description").val(),i(".ecps-new-list-container button").prop("disabled",!0),t={action:"emailchefaddlist",list_name:s,list_desc:t},e=i(".ecps-new-list-container").data("ajax-url"),a=i("#"+n+"_list"),i(".status-list").hide(),i(".check-list").show(),i.ajax({type:"POST",url:e,data:t,dataType:"json",success:function(t){var e;"error"==t.type?(i(".status-list").hide(),i("#error_status_list_data").find(".reason").text(t.msg),i("#error_status_list_data").show()):(i(".ecps-new-list-container #"+n+"_new_save").text(r.create_list),i("#success_status_list_data").show().delay(3e3).fadeOut(),void 0!==t.list_id&&(a.append(i("<option>").text(s).attr("value",t.list_id)),a.val(t.list_id).attr("selected","selected")),t=t.list_id,i(".ecps-new-list-container button").prop("disabled",!0),t={action:"emailchefaddcustomfields",list_id:t},e=i(".ecps-new-list-container").data("ajax-url"),i(".status-list-cf").hide(),i(".check-list-cf").show(),i.ajax({type:"POST",url:e,data:t,dataType:"json",success:function(t){"error"==t.type?(i(".status-list-cf").hide(),i("#error_status_list_data_cf").find(".reason").text(t.msg),i("#error_status_list_data_cf").show()):(i("#success_status_list_data_cf").show().delay(3e3).fadeOut(),i(".ecps-new-list-container").slideUp())},error:function(t,e,s){i("#error_status_list_data_cf").find(".reason").text(t.error+" "+e+" "+s),i("#server_error_status_list_data_cf").show(),i(".ecps-new-list-container button").prop("disabled",!1)},complete:function(){i(".check-list-cf").hide(),i(".ecps-new-list-container button").prop("disabled",!1)}}))},error:function(t,e,s){i("#error_status_list_data").find(".reason").text(t.error+" "+e+" "+s),i("#server_error_status_list_data").show()},complete:function(){i(".check-list").hide(),i(".ecps-new-list-container button").prop("disabled",!1)}})})}}})(jQuery);